---
layout: single
categories:
    - study
tags:
    - docker
    - ë„ì»¤
    - ë°±ì—”ë“œ
comments: true
title: "[docker] dockerì‚¬ìš© í™œìš©í¸(volume, network, commit, push)"
---

ì´ì „ ê¸€ : [[docker] ë¦¬ëˆ…ìŠ¤ ê¸°ë°˜ ë„ì»¤(docker)ì„¤ì¹˜ ë° ëª…ë ¹ì–´ ì‹¤ìŠµ](https://stg0123.github.io/study/42/)<br>


<br>
ì•ˆë…•í•˜ì„¸ìš”ğŸ‘‹<br>
ì´ì „ ê¸€ì—ì„œ ë„ì»¤ì˜ ê¸°ë³¸ ëª…ë ¹ì–´ë“¤ë¡œ ê°„ë‹¨í•˜ê²Œ nginxë¥¼ ë„ì›Œë³´ëŠ” ê²ƒì„ ì´ì•¼ê¸°í–ˆì—ˆëŠ”ë°ìš” ì´ë²ˆê¸€ì—ì„œëŠ” ë” ë‚˜ì•„ê°€ì„œ docker ì»¨í…Œì´ë„ˆë¡œ ë„ìš´ ì„œë¹„ìŠ¤ë¥¼ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ ì—°ê³„í•˜ì—¬ ì‚¬ìš©í•˜ê¸° ìœ„í•œ volumeê³¼ network ê·¸ë¦¬ê³  ë‚´ìš©ì„ ìˆ˜ì •í•œ dockerë¥¼ ì´ë¯¸ì§€ë¡œ ë§Œë“¤ì–´ ì €ì¥í•˜ëŠ” commit, pushë“±ì˜ ëª…ë ¹ì–´ë¥¼ ì†Œê°œí•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤<br>

## ğŸ™ìš”ì•½
docker volumeê³¼ networkì˜µì…˜, commitê³¼ push ëª…ë ¹ì–´ë¥¼ ì†Œê°œí•©ë‹ˆë‹¤<br>

1. docker volume ì˜µì…˜
2. docker network ì˜µì…˜
3. docker commit,push

## ğŸ“docker volume 
volumeì€ ë„ì»¤ë¥¼ ë„ìš°ëŠ” í™˜ê²½ì— ìˆëŠ” ì €ì¥ê³µê°„ì„ docker ì»¨í…Œì´ë„ˆì˜ ê³µê°„ì—ì„œ ì‚¬ìš©í•˜ë„ë¡ ê³µìœ í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ë“¤ì´ ì™œ í•„ìš”í•œì§€ redisë¥¼ ì‚¬ìš©í•´ì„œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.<br>
redisëŠ” ë©”ëª¨ë¦¬ dbë¡œ ê°’ì„ ì €ì¥í•´ë†“ê³  ìºì‹±ìœ¼ë¡œ ìì£¼ ì‚¬ìš©í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤ ê°„ë‹¨í•˜ê²Œ dbì— ê°’ì„ ì €ì¥í•´ë³´ê³  volumeì´ ìˆì„ë•Œì™€ ì—†ì„ë•Œì˜ ì°¨ì´ë¥¼ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤<br>


```
docker volume ls 
docker volume create redis-vol
```
ìœ„ ëª…ë ¹ì–´ë¥¼ í†µí•´ volumeì„ í™•ì¸í•˜ê³  redis-volì„ ìƒì„±í•©ë‹ˆë‹¤<br>

```
docker run -d --name myredis --rm -p 6379:6379 redis:alpine redis-server
docker run -it --link myredis --rm redis:alpine redis-cli -h myredis
```
ìœ„ ëª…ë ¹ì–´ë¥¼ í†µí•´ redis serverë¥¼ ë„ìš°ê³  redis-cliì„ í†µí•´ redis serverì— ì ‘ì†í•©ë‹ˆë‹¤ linkì˜µì…˜ì€ myredisì´ë¦„ìœ¼ë¡œ ì—°ê²°í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •í•˜ëŠ” ëª…ë ¹ì–´ê³  networkë¶€ë¶„ì—ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤<br>

```
keys *
set 1 testtext
```
1ë²ˆ í‚¤ë¡œ testtextë¼ëŠ” ê°’ì„ ì €ì¥í•˜ê³  ë‹¤ì‹œ keys * ë¡œ ì˜ ì €ì¥ì´ë˜ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤<br>

```
docker stop myredis
docker run -d --name myredis --rm -p 6379:6379 redis:alpine redis-server
docker run -it --link myredis --rm redis:alpine redis-cli -h myredis
keys *
```
ê·¸ëŸ¼ ë‹¤ì‹œ redisë¥¼ ê»ë‹¤ê°€ ì¼œì„œ ì‹¤í–‰ì‹œì¼œ ë³¸ë’¤ ì•„ê¹Œ ì €ì¥í•œ 1ì´ë¼ëŠ” í‚¤ê°€ ì €ì¥ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•´ ë³´ë©´ ì—†ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤ ì´ë ‡ê²Œ ì»¨í…Œì´ë„ˆë¥¼ ìƒˆë¡œ ìƒì„±í•  ë•Œë§ˆë‹¤ ë°ì´í„°ê°€ ë‚ ë¼ê°€ë¯€ë¡œ ìš°ë¦¬ëŠ” ë°ì´í„° ì €ì¥ì´ í•„ìš”í•œ í”„ë¡œê·¸ë¨(ì‚¬ìš©í•˜ë©´ì„œ ë°ì´í„°ê°€ ì±„ì›Œì§€ëŠ” í˜•íƒœì˜ í”„ë¡œê·¸ë¨) ë³¼ë¥¨ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤<br>
ì„¤ì •íŒŒì¼ ê°™ì€ ê²½ìš° ì„¤ì •í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì €ì¥í•´ë†“ê³  ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í¸í•©ë‹ˆë‹¤.(commit ëª…ë ¹ì–´ì‹œ ì„¤ëª…ì˜ˆì •)<br>
ì´ì œ ì•„ê¹Œ ìƒì„±í•´ ë‘ì—ˆë˜ redis-volì„ ì‚¬ìš©í•˜ì—¬ redisë¥¼ ì‚¬ìš©í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤<br>

```
docker run -d --name myredis --rm -p 6379:6379 -v redis-vol:/data redis:alpine redis-server
docker run -it --link myredis --rm redis:alpine redis-cli -h myredis
keys *
set 1 testtext
```
ì•„ê¹Œì™€ ê°™ì€ ëª…ë ¹ì–´ì•  -v ì˜µì…˜ì„ ì¶”ê°€í•˜ì—¬ ì•„ê¹Œ ìƒì„±í•œ redis-volì„/dataì— ì—°ê²°í•œ redis ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ì—¬ ì—°ê²°í•˜ê³  ê°™ì€ ë°©ì‹ìœ¼ë¡œ keyë¥¼ í•˜ë‚˜ ì¶”ê°€í•´ë³´ê² ìŠµë‹ˆë‹¤<br>

```
docker stop myredis
docker run -d --name myredis --rm -p 6379:6379 -v redis-vol:/data redis:alpine redis-server
docker run -it --link myredis --rm redis:alpine redis-cli -h myredis
keys *
```
ì´ë²ˆì—ë„ redisë¥¼ ê»ë‹¤ ì¼œë³´ì•˜ëŠ”ë° ì–´ë–¤ê°€ìš”? ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆëŠ”ê±¸ ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤ ì´ì œ volumeì˜µì…˜ì„ ì–¸ì œ ì™œ ì‚¬ìš©í•˜ëŠ”ì§€ ì´í•´í–ˆì„ ê²ƒì…ë‹ˆë‹¤<br>

## ğŸ“docker network
