---
layout: single
categories:
    - study
tags:
    - wsgi
    - nginx
    - apache
comments: true
title: "wsgiì™€ cgiì˜ ê°œë…ê³¼ uwsgië¥¼ djangoì™€ ì—°ê²°í•˜ê¸°"
---

ì•ˆë…•í•˜ì„¸ìš”ğŸ‘‹<br>
ì´ë²ˆì—ëŠ” cgi, wsgiì˜ ê°œë…ê³¼ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì„œë²„ë¥¼ ë°°í¬í•  ë•Œ ì™œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€ ë˜<br>
nginxì™€ apacheëŠ” ë¬´ì—‡ì´ê³  ì™œ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤<br>
ì •ë§ ì–´ë ¤ìš´ ì§ˆë¬¸ì¸ë° ì—¬ê¸°ì €ê¸° ë¸”ë¡œê·¸ë“¤ì„ ë§ì´ ì°¸ê³ í•˜ë©´ì„œ ì´í•´í•´ë³¸ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤<br>
ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•´ë³´ì‹  ë¶„ë“¤ì€ ì •ë§ ì˜ ì•Œê³  ê³„ì‹œê² ì§€ë§Œ ì•„ì§ í•™ìƒì´ì‹œê±°ë‚˜ ì·¨ì¤€ìƒ ë¶„ë“¤ê»˜ ë„ì›€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤<br>

## ğŸ™ìš”ì•½
ì´ë²ˆ ê¸€ì—ì„œëŠ” wsgi,cgiì— ëŒ€í•´ ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤<br>

1. wsgi,cgië€?
2. django ì½”ë“œë¡œ ì•Œì•„ë³¸ wsgi
3. uwsgië¥¼ ì‚¬ìš©í•˜ì—¬ django ë°°í¬í•˜ê¸°


## ğŸ“wsgi,cgië€?
- WSGI(Web Server Gateway Interface)ëŠ” ì›¹ ì„œë²„ ì†Œí”„íŠ¸ì›¨ì–´ì™€ íŒŒì´ì¬ìœ¼ë¡œ ì‘ì„±ëœ ì›¹ ì‘ìš© í”„ë¡œê·¸ë¨ ê°„ì˜ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
- CGI(Common Gateway Interface)ëŠ” WWW ì„œë²„ì™€ ì„œë²„ ìƒì—ì„œ ë“±ì¥í•˜ëŠ” ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ë“± HTMLì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•œ ì¸í„°ë ‰í‹°ë¸Œí•œ ìš”ì†Œë¥¼ í™ˆí˜ì´ì§€ì— ë°›ì•„ ë“¤ì—¬ ì“¸ ìˆ˜ ìˆë‹¤.
<br>

ì‰½ê²Œ ì„¤ëª…í•´ ë³´ë©´ cgiëŠ” ì›¹ì„œë²„ì™€ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ë¥¼ ì´ì–´ì£¼ëŠ” ì¸í„°í˜ì´ìŠ¤ ì—­í• ì„ í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ ì´ë‹¤.<br>
ë‹¤ì‹œë§í•´ ì›¹ ì„œë²„ëŠ” htmlì´ë‚˜ jsì–¸ì–´ ì™¸ì—ëŠ” í•´ì„í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìš°ë¦¬ê°€ ì‘ì„±í•œ pythonì´ë‚˜ javaì™€ ê°™ì€ ì–¸ì–´ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ì„œëŠ” ì´ë¥¼ í•´ì„í•´ì£¼ëŠ” ë¯¸ë“¤ì›¨ì–´ê°€ í•„ìš”í•œ ê²ƒ ì´ê²ƒì´ cgiì´ë‹¤<br>
wsgiëŠ” cgiì˜ ê°œë…ì„ ì´ì–´ë°›ì•„ cgiì˜ ë‹¨ì ë“¤ì„ ë³´ì™„í•´ì„œ pythonì—ì„œ ì‚¬ìš©í•˜ê¸°ìœ„ì— ë§Œë“¤ì–´ì§„ cgiì˜ í•œ ì¢…ë¥˜ë¼ê³  ë³´ë©´ ë˜ê² ë‹¤<br>
cgiëŠ” ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ìš”ì²­ë§ˆë‹¤ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë™ì‘ì‹œí‚¤ê²Œ ë˜ëŠ”ë° ì´ëŠ” ë¶€í•˜ê°€ ë„ˆë¬´ í¬ê³  10000ê°œì´ìƒì˜ ë™ì‹œ ìš”ì²­ì€ ì²˜ë¦¬í•  ìˆ˜ ì—†ê²Œ ëœë‹¤ê³  í•œë‹¤<br>
ì´ë¥¼ í•´ê²°í•˜ê³  ë¶€í•˜ë„ ì¤„ì´ê¸° ìœ„í•´ wsgiëŠ” ë¹„ë™ê¸° ë°©ì‹ì˜ ì½œë°±í•¨ìˆ˜ë¡œ ì´ë£¨ì–´ì ¸ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  ì—¬ëŸ¬ ë™ì‹œ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¶€í•˜ê°€ ì ë‹¤ ë”°ë¼ì„œ ìš”ì¦˜ì€ wsgiì˜ ì¢…ë¥˜ì¸ uwsgië‚˜ guniconë“±ì„ ë§ì´ ì‚¬ìš©í•˜ê²Œ ëœë‹¤<br>
<br>

![image](/assets/images/0818_41/web_architecture.png){:.align-center width="90%"}
<br>

ìœ„ ê·¸ë¦¼ì´ ë‚˜ë¦„ ì˜ í‘œí˜„í•œ ì›¹ ìš©ì–´ë¥¼ í‘œí˜„í•œ êµ¬ì¡°ë¼ê³  ìƒê°í•œë‹¤ ë¬¼ë¡  êµ¬ì²´ì ì¸ í”„ë¡œê·¸ë¨ ë¡œê³ ë“¤ì€ ì˜ˆì‹œì´ë‹¤ <br>
(springì€ jvmì´ ê¹”ë ¤ìˆëŠ” cgië¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë¯€ë¡œ tomcatì´ ê¸°ë³¸ì´ë‹¤)<br>
ë”°ë¼ì„œ ê° í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë§ˆë‹¤ web serverì— í•´ì„í•´ ì¤„ìˆ˜ ìˆëŠ” cgiê°€ ë‹¤ë¥´ë‹¤ê³  ë³´ë©´ ë˜ê² ë‹¤<br>
<br>

tomcat ì•ì— nginxê°™ì€ web serverì„ ë‘ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆëŠ”ë° ì´ëŠ” ë¡œë“œë°¸ëŸ°ì‹±ì„ ìœ„í•œ ëª©ì ì´ ëŒ€ë¶€ë¶„ì´ê³  ì´ ì™¸ì—ëŠ” í° ì˜ë¯¸ê°€ ì—†ë‹¤ê³  í•œë‹¤<br>
ì˜¤íˆë ¤ ì„œë²„ë¥¼ í•œë²ˆ ë” ê±°ì³ê°€ë©´ì„œ ë¶€í•˜ë§Œ ìƒê¸´ë‹¤ëŠ” ê²ƒì´ë‹¤ ì •ì  íŒŒì¼ë“¤ì„ web serverì—ì„œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì´ë ‡ê²Œ í•œë‹¤ëŠ” ê²½ìš°ê°€ ìˆë‹¤ê³  í•˜ëŠ”ë° tomcatë‚´ì—ì„œ ì¶©ë¶„íˆ ê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤<br>
ì´ì œ pythonì—ì„œ ì‚¬ìš©ë˜ëŠ” wsgiì— ëŒ€í•´ ì¡°ê¸ˆë” ì•Œì•„ë³´ê³  êµ³ì´ runserverë¡œ ì˜ ëŒì•„ê°€ëŠ” djangoì—ì„œ ì„¤ì •í•´ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€ ì•Œì•„ë³´ë„ë¡ í•˜ì<br>


## ğŸ”django ì½”ë“œë¥¼ í†µí•´ ì•Œì•„ë³¸ wsgi
django í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ê³  í•­ìƒ ìš°ë¦¬ê°€ ì„œë²„ë¥¼ ì‹¤í–‰í• ë•Œ í•˜ëŠ” ê²ƒì€ python manage.py runserver ì´ë‹¤.ì´ë²ˆì—ëŠ” ì´ runserverê°€ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ë³´ë ¤ê³  í•œë‹¤<br>

```py
# project/manage.py
"""Django's command-line utility for administrative tasks."""
import os
import sys

def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()
```
<br>
í•œë²ˆì¯¤ì€ ë´¤ì„ manage.pyì˜ ì½”ë“œì´ë‹¤ ê·¸ëƒ¥ ë¬´ì‘ì • ì‹¤í–‰í•˜ì§€ ë§ê³  í•œë²ˆ ì‚´í´ë³´ë©´ ê²°êµ­ execute_from_command_line(sys.argv)ê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.
vscodeì˜ f12ë¥¼ í†µí•´ ë”°ë¼ê°€ë³´ì<br>

```py
def execute_from_command_line(argv=None):
    """Run a ManagementUtility."""
    utility = ManagementUtility(argv)
    utility.execute()
```
<br>
ì´ëŸ¬í•œ ì½”ë“œë¥¼ ë³¼ ìˆ˜ ìˆê³  execute()í•¨ìˆ˜ë¥¼ ë”°ë¼ê°€ë³´ë©´ <br>

```py
if settings.configured:
    # Start the auto-reloading dev server even if the code is broken.
    # The hardcoded condition is a code smell but we can't rely on a
    # flag on the command class because we haven't located it yet.
    if subcommand == 'runserver' and '--noreload' not in self.argv:
        try:
            autoreload.check_errors(django.setup)()
        except Exception:
            # The exception will be raised later in the child process
            # started by the autoreloader. Pretend it didn't happen by
            # loading an empty list of applications.
            apps.all_models = defaultdict(dict)
            apps.app_configs = {}
            apps.apps_ready = apps.models_ready = apps.ready = True

            # Remove options not compatible with the built-in runserver
            # (e.g. options for the contrib.staticfiles' runserver).
            # Changes here require manually testing as described in
            # #27522.
            _parser = self.fetch_command('runserver').create_parser('django', 'runserver')
            _options, _args = _parser.parse_known_args(self.argv[2:])
            for _arg in _args:
                self.argv.remove(_arg)
...

    else:
        self.fetch_command(subcommand).run_from_argv(self.argv)        
```
<br>
ì½”ë“œê°€ ê¸¸ì–´ì„œ ëª¨ë‘ ë‹´ì„ ìˆ˜ëŠ” ì—†ê³  ì£¼ìš” ë¶€ë¶„ë§Œ ë³´ë©´ runserver ì…ë ¥ì´ ë“¤ì–´ì™”ì„ë•Œ argë¥¼ ì„¤ì •í•´ì£¼ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.ì´í›„ ê²°êµ­ run_from_argvë¡œ subcommandì¸ runserverë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤<br>
ì—¬ê¸°ì„œ ë“¤ì–´ê°€ë³´ë©´ BaseCommandì˜ ì¸í„°í˜ì´ìŠ¤ ë§Œ ë‚˜ì˜¤ê²Œë˜ëŠ”ë° ì´ì œ ì´ BaseCommandì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì†í•œ runserverê°ì²´ë¥¼ ì°¾ì•„ì•¼ í•˜ëŠ”ë° ì´ëŠ” django/core/management/commands/runserver.pyì— ìˆë‹¤ ì°¾ì•„ê°€ë³´ë„ë¡ í•˜ì<br>

```py
class Command(BaseCommand):
    help = "Starts a lightweight Web server for development."

    # Validation is called explicitly each time the server is reloaded.
    requires_system_checks = []
    stealth_options = ('shutdown_message',)

    default_addr = '127.0.0.1'
    default_addr_ipv6 = '::1'
    default_port = '8000'
    protocol = 'http'
    server_cls = WSGIServer
```
<br>
ë³´ë©´ ì•„ê¹Œì˜ BaseCommandë¥¼ ìƒì†ë°›ì•„ Commandê°ì²´ë¥¼ ë§Œë“¤ì–´ ì£¼ì—ˆê³  defaultë¡œ ì—¬ëŸ¬ http ì„¤ì •ì´ ë‚˜ì™€ìˆëŠ” ê²ƒì„ ë³¼ìˆ˜ìˆë‹¤. ì ì´ì œ ìš°ë¦¬ê°€ ì°¾ë˜ ì¥ê³ ê°€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•˜ëŠ” wsgiëŠ” ì–´ë””ì— ìˆì„ê¹Œ server_cls = WSGIServer ì´ ë¬¸ì¥ì„ ì£¼ëª©í•´ ë³´ì ê¸°ë³¸ì ìœ¼ë¡œ WSGIServerë¼ëŠ” ê°ì²´ë¥¼ ìƒì„±í•´ì„œ wsgië¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ì•Œìˆ˜ìˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ WSGIServer ê°ì²´ë¥¼ f12ë¡œ ì°¾ì•„ê°€ë³´ì<br>

```py
#basehttp.py
"""
HTTP server that implements the Python WSGI protocol (PEP 333, rev 1.21).

Based on wsgiref.simple_server which is part of the standard library since 2.5.

This is a simple server for use in testing or debugging Django apps. It hasn't
been reviewed for security issues. DON'T USE IT FOR PRODUCTION USE!
"""

import logging
import socket
import socketserver
import sys
from wsgiref import simple_server

from django.core.exceptions import ImproperlyConfigured
from django.core.handlers.wsgi import LimitedStream
from django.core.wsgi import get_wsgi_application
from django.utils.module_loading import import_string

class WSGIServer(simple_server.WSGIServer):


```
<br>

ì WSGIServer ê°ì²´ëŠ” simple_serverë¼ëŠ” ê³³ì˜ ê°ì²´ë¥¼ ìƒì†ë°›ì•„ì„œ ë§Œë“¤ì–´ ì§„ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  WSGIServerê°ì²´ê°€ ì •ì˜ë˜ì–´ìˆëŠ” basehttp.py ë§¨ìœ„ì˜ ì„¤ëª… ë¬¸ì¥ì„ ë³´ë©´ **DON'T USE IT FOR PRODUCTION USE!** ë¼ê³  ë‚˜ì™€ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.<br>
ì´ê±´ wsgirefë¼ëŠ” ê²ƒì„ í† ëŒ€ë¡œ ë§Œë“¤ì–´ì§„ simple serverì¼ ë¿ì´ê³  ì‹¤ì œ ë°°í¬ì‹œì—[uwsgi]
base = /home/ubuntu/taegyun/soma_mainserver
project = mainserver
home = %(base)/venv
# í”„ë¡œì íŠ¸ ìœ„ì¹˜
chdir=%(base)/%(project)
# django wsgiëª¨ë“ˆ
module=mainserver.wsgi

uid = ubuntu
gid = ubuntu

# http = :8000
socket = /tmp/uwsgi.socket
chmod-socket = 666
chown-socket = ubuntu:ubuntu

master=true
pidfile=/tmp/project-master.pid

vacuum=true
# max-requests=5000

# logger = file:/tmp/uwsgi.log
daemonize = %(base)/%(project)/uwsgi.log 
ëŠ” ì‚¬ìš©í•˜ì§€ ë§ë¼ ë¼ëŠ” ë¬¸ì¥ì´ë‹¤.djangoëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì•ˆì ìœ¼ë¡œë„, ì„±ëŠ¥ì ìœ¼ë¡œë„ ì¢‹ì§€ ì•Šì€ ê¸°ë³¸ ì„œë²„ì¸ simple serverë¥¼ ì œê³µí•´ì£¼ëŠ” ê²ƒì´ê³  ìš°ë¦¬ê°€ ì‹¤ì œ ë°°í¬í•  ë•Œì—ëŠ” uwsgië‚˜ gunicorn ê°™ì€ ì˜¤í”ˆ ì†ŒìŠ¤ wsgië¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤<br>
<br>
ì—¬ê¸°ê¹Œì§€ ì´í•´í–ˆë‹¤ë©´ ì´ì œ ì‹¤ì œ djangoë¥¼ uwsgië¥¼ í†µí•´ ë°°í¬í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ë„ë¡ í•˜ì<br>

## ğŸ”uwsgië¥¼ ì‚¬ìš©í•˜ì—¬ djangoë°°í¬í•˜ê¸°
ë¨¼ì € pipë¥¼ í†µí•´ uwsgië¥¼ ì„¤ì¹˜í•´ ì£¼ì ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ê³  ìˆë‹¤ë©´ ê°€ìƒí™˜ê²½ ë‚´ì— ì„¤ì¹˜í•´ë„ ê´œì°®ë‹¤<br>
```
pip install uwsgi
```
<br>
ë‹¤ìŒì€ uwsgië¥¼ djangoì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ ì„¤ì •íŒŒì¼ì„ ë§Œë“ ë‹¤ ì´ë¶€ë¶„ì´ ìƒë‹¹íˆ í—·ê°ˆë ¤ì„œ ê°œì¸ì ìœ¼ë¡œë„ ë§ì´ ì°¾ì•„ë³´ì•˜ë‹¤. ë‚˜ì¤‘ì— dockerë¡œ ë°°í¬í•  ê³„íšë„ ìˆë‹¤ë©´ í”„ë¡œì íŠ¸ ë‚´ì— ì„¤ì •íŒŒì¼ì„ ë§Œë“œëŠ” í¸ì´ ì¢‹ë‹¤. uwsgi.iniì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì„¤ì • íŒŒì¼ì„ ë§Œë“¤ì–´ ë³´ì<br>

```ini
[uwsgi]
base = /home/ubuntu/taegyun/soma_mainserver
project = mainserver
home = %(base)/venv
# í”„ë¡œì íŠ¸ ìœ„ì¹˜
chdir=%(base)/%(project)
# django wsgiëª¨ë“ˆ
module=mainserver.wsgi

uid = ubuntu
gid = ubuntu

# http = :8000
socket = /tmp/uwsgi.socket
chmod-socket = 666
chown-socket = ubuntu:ubuntu

master=true
pidfile=/tmp/project-master.pid

vacuum=true
# max-requests=5000

# logger = file:/tmp/uwsgi.log
daemonize = %(base)/%(project)/uwsgi.log 

```
<br>

#ì€ ì£¼ì„ì´ê³  ë³€ìˆ˜ ë’¤ì— ;ë“±ìœ¼ë¡œ ì£¼ì„ì„ ë‹¨ ë¸”ë¡œê·¸ë“¤ì´ ìˆëŠ”ë° ì ˆëŒ€ ë³€ìˆ˜ ë’¤ì— ë„ì–´ì“°ê¸°ê°€ ìˆë”ë¼ë„ ë‹¤ë¥¸ ë¬¸ìë¥¼ ì‘ì„±í•˜ì§€ ë§ì ì¸ì‹í•´ë²„ë¦°ë‹¤..;ì—¬ê¸°ì„œ ê³ ìƒì„ í–ˆë‹¤<br>
iniíŒŒì¼ì—ì„œ ìƒëŒ€ê²½ë¡œëŠ” ë¨¹íˆì§€ ì•Šìœ¼ë¯€ë¡œ /ë¶€í„° ì‹œì‘í•˜ëŠ” ì ˆëŒ€ê²½ë¡œë¡œ ì‘ì„±í•´ì£¼ë„ë¡ í•˜ì<br>
í•„ìˆ˜ë¡œ í•„ìš”í•œ ë³€ìˆ˜ëŠ” home,chdir,module ì´ë‹¤.<br>
home = í”„ë¡œì íŠ¸ê°€ ì‚¬ìš©í•  ê°€ìƒí™˜ê²½(ê°€ìƒí™˜ê²½ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ pythonì´ ìˆëŠ” ìœ„ì¹˜ë¥¼ ë„£ì–´ì£¼ì)<br>
chdir = í”„ë¡œì íŠ¸ì˜ ìœ„ì¹˜<br>
module = í”„ë¡œì íŠ¸ìœ„ì¹˜ì—ì„œ wsgi.pyíŒŒì¼ìœ„ì¹˜ ê²½ë¡œ (.pyë¥¼ ë¹¼ê³  ê²½ë¡œë¥¼ .ìœ¼ë¡œ êµ¬ë¶„í•œë‹¤)<br>
ë‚˜ë¨¸ì§€ëŠ” ë¶€ê°€ì ì¸ ì˜µì…˜ì¸ë° ë” ë§ì€ ì˜µì…˜ì€ uwsgiê³µì‹ í˜ì´ì§€ë¥¼ ì°¸ê³ í•˜ê¸¸ ë°”ë€ë‹¤<br>
ì‚¬ìš©í•œ ì˜µì…˜ì— ëŒ€í•´ ì„¤ëª…í•˜ìë©´ **uid,gid**ëŠ” uwsgië¥¼ ì‹¤í–‰í•  os userì •ë³´,user group ì •ë³´ì´ë‹¤ ìì‹ ì´ í‰ì†Œì— ì‚¬ìš©í•˜ëŠ” userì˜ ì´ë¦„ì„ ë„£ì–´ì£¼ì<br>
**master**ëŠ” pidë¥¼ ìƒì„±í• ì§€ ì—¬ë¶€ë‹¤ uwsgiê°€ ì‹¤í–‰ë˜ë©´ í”„ë¡œì„¸ìŠ¤ì˜ í˜•íƒœë¡œ ì‹¤í–‰ë˜ëŠ”ë° pidì •ë³´ë¥¼ ì–´ë”˜ê°€ ë‘ì–´ì•¼ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¢…ë£Œí•˜ê±°ë‚˜ ë³€ê²½í• ë•Œ ìœ ìš©í•˜ë‹¤<br>
**pidfile** ëŠ” masterê°€ trueì¼ ë•Œ pidë¥¼ ë‘˜ ìœ„ì¹˜ì´ë‹¤.<br>
**vacuume** ì€ uwsgií”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í• ë•Œ ìƒì„±í•œ íŒŒì¼ë“¤ì„ ì¢…ë£Œì‹œ ì‚­ì œì‹œí‚¨ë‹¤ -> ê¹”ë”í•´ì§„ë‹¤<br>
**logger** ëŠ” íŒŒì¼ í˜•íƒœë¡œ ë¡œê·¸ë¥¼ ë‚¨ê¸¸ë•Œ ì‚¬ìš©í•œë‹¤<br>
**daemonize** ì˜µì…˜ë„ ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ì˜µì…˜ì¸ë° loggerì™€ ì°¨ì´ì ì€ ì½˜ì†”ì— ëœ¨ëŠ” ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•œë‹¤ ìš”ì²­ì‘ë‹µì— ëŒ€í•œë‚´ìš©ë§Œ ë³´ê³ ì‹¶ë‹¤ë©´ loggerë¥¼ ì‚¬ìš©í•˜ì<br>
**socket** ì˜µì…˜ê³¼ **http**ì˜µì…˜ì„ ìƒê°í•´ë³´ì uwsgië¥¼ httpë¡œ ë„ìš¸ì§€ socketìœ¼ë¡œ ë„ìš¸ì§€ë¥¼ ê²°ì •í•œë‹¤ ë‘˜ë‹¤ ì‚¬ìš©í•´ë„ ê´œì°®ë‹¤(ë¬¼ë¡  ë§ì´ ëŠë ¤ì§ˆ ê²ƒì´ë‹¤)<br>
ë‹¹ì—°íˆ httpë³´ë‹¤ socketì´ ìš”ì²­ ì‘ë‹µì´ í›¨ì‹  ë¹ ë¥´ë‹¤! ë‚˜ì¤‘ì— nginxë¥¼ ì‚¬ìš©í•  ì˜ˆì •ì´ë¼ë©´ httpëŠ” nginxì—ì„œ ë°›ì•„ ì²˜ë¦¬í•˜ë‹ˆ socketìœ¼ë¡œ ì„œë²„ë¥¼ ë„ì›Œ nginxì™€ uwsgiì‚¬ì´ì˜ ì „ì†¡ ì†ë„ë¥¼ ì˜¬ë¦¬ëŠ” ê²ƒì´ë‹¤ socketì„ ì‚¬ìš©í• ë•Œì—ëŠ” ê·¸ì—ë§ëŠ” socketì˜µì…˜ì„ ì„¤ì •í•´ì£¼ë©´ ë˜ëŠ” ë¶€ë¶„ì´ë‹¤<br>
<br>

```
uwsgi -i uwsgi.ini
```
<br>
ì ì´ì œ ìœ„ ëª…ë ¹ì–´ë¥¼ uwsgi.iniíŒŒì¼ì´ ìˆëŠ” ìœ„ì¹˜ì—ì„œ ì‹¤í–‰í•´ë³´ë©´ uwsgië¡œ ì„œë²„ê°€ ë„ì›Œì§€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤ nginxë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ httpì˜µì…˜ìœ¼ë¡œ :8000ë“±ìœ¼ë¡œ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì§€ì •í•´ì£¼ê³  ì‹¤í–‰ì‹œì¼œì¤˜ì•¼ í•˜ê² ë‹¤<br>
ì´ì œ ì—¬ëŸ¬ë¶„ì´ ì—´ì‹¬íˆ ë§Œë“  django ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ uwsgië¡œ ë°°í¬í•˜ì—¬ ì‚¬ìš©í•´ ë³´ë„ë¡ í•˜ì<br>
í•˜ì§€ë§Œ ì •ì  íŒŒì¼ê´€ë¦¬ë‚˜ ë§ì€ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê³  sslì¸ì¦ì„œë¥¼ í†µí•´ httpsë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œë¼ë„ nginxë¥¼ uwsgiì•ë‹¨ì— ë¶™í˜€ uwsgiì™€ ì—°ê²°í•´ ì£¼ì–´ì•¼ í•œë‹¤ ì´ ë‚´ìš©ì€ ë‚˜ì¤‘ì— ìì„¸í•˜ê²Œ ì ë„ë¡ í•˜ê² ë‹¤<br>


<center>ê¸´ê¸€ ë´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤ ì•ìœ¼ë¡œë„ ìœ ìš©í•œ ë‚´ìš©ì„ ë§ì´ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤ ê·¸ëŸ¼ ì•ˆë…• ğŸ‘‹</center>